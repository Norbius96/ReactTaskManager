{"ast":null,"code":"import _regeneratorRuntime from\"/Users/norbert/Desktop/projekty/todolistreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/norbert/Desktop/projekty/todolistreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/norbert/Desktop/projekty/todolistreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import'../styles/news.css';import newsImg from\"../assets/news/news.svg\";import{faSpinner}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";function News(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),news=_useState2[0],setNews=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){fetchNews();},[]);var fetchNews=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var token,newsURL,fetchData,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:token='a05805ed58ffc71ae2f0a4ea2d84ab25';newsURL=\"https://gnews.io/api/v3/top-news?lang=pl&max=3&token=\".concat(token);_context.prev=2;_context.next=5;return fetch(newsURL);case 5:fetchData=_context.sent;_context.next=8;return fetchData.json();case 8:data=_context.sent;setNews(data);setLoading(false);_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](2);console.log(_context.t0);case 16:case\"end\":return _context.stop();}}},_callee,null,[[2,13]]);}));return function fetchNews(){return _ref.apply(this,arguments);};}();if(loading){return/*#__PURE__*/React.createElement(\"div\",{id:\"news\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faSpinner,className:\"fa-spin\"}));};if(\"errors\"in news){return/*#__PURE__*/React.createElement(\"div\",{id:\"news\"},/*#__PURE__*/React.createElement(\"h1\",null,\"B\\u0142\\u0105d \\u0142adowania \"));}return/*#__PURE__*/React.createElement(\"div\",{id:\"news\"},/*#__PURE__*/React.createElement(\"div\",{id:\"news-title\"},/*#__PURE__*/React.createElement(\"h1\",null,\"News\"),/*#__PURE__*/React.createElement(\"img\",{src:newsImg,alt:\"news icon\",title:\"News\"})),news.articles.map(function(article,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"article\"},/*#__PURE__*/React.createElement(\"h2\",null,/*#__PURE__*/React.createElement(\"a\",{href:article.url,target:\"blank\"},article.title)),/*#__PURE__*/React.createElement(\"p\",null,article.publishedAt));}));}export default News;","map":{"version":3,"sources":["/Users/norbert/Desktop/projekty/todolistreact/src/components/News.js"],"names":["React","useEffect","useState","faSpinner","FontAwesomeIcon","News","news","setNews","loading","setLoading","fetchNews","token","newsURL","fetch","fetchData","json","data","console","log","newsImg","articles","map","article","index","url","title","publishedAt"],"mappings":"yeAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,MAAO,oBAAP,C,6CAGA,OAASC,SAAT,KAA0B,mCAA1B,CACA,OAASC,eAAT,KAAgC,gCAAhC,CAIA,QAASC,CAAAA,IAAT,EAAgB,eAEYH,QAAQ,CAAC,EAAD,CAFpB,wCAELI,IAFK,eAECC,OAFD,8BAGkBL,QAAQ,CAAC,IAAD,CAH1B,yCAGLM,OAHK,eAGIC,UAHJ,eAKZR,SAAS,CAAC,UAAM,CACZS,SAAS,GACZ,CAFQ,CAEN,EAFM,CAAT,CAKA,GAAMA,CAAAA,SAAS,0FAAG,oKACRC,KADQ,CACA,kCADA,CAERC,OAFQ,gEAE0DD,KAF1D,wCAIcE,CAAAA,KAAK,CAACD,OAAD,CAJnB,QAIJE,SAJI,qCAKSA,CAAAA,SAAS,CAACC,IAAV,EALT,QAKJC,IALI,eAMVT,OAAO,CAACS,IAAD,CAAP,CACAP,UAAU,CAAC,KAAD,CAAV,CAPU,iFASVQ,OAAO,CAACC,GAAR,cATU,qEAAH,kBAATR,CAAAA,SAAS,0CAAf,CAcA,GAAIF,OAAJ,CAAa,CACT,mBACI,2BAAK,EAAE,CAAC,MAAR,eACI,oBAAC,eAAD,EAAiB,IAAI,CAAEL,SAAvB,CAAkC,SAAS,CAAC,SAA5C,EADJ,CADJ,CAKH,EAED,GAAI,UAAYG,CAAAA,IAAhB,CAAsB,CAClB,mBACI,2BAAK,EAAE,CAAC,MAAR,eACI,+DADJ,CADJ,CAKH,CAGD,mBACI,2BAAK,EAAE,CAAC,MAAR,eACI,2BAAK,EAAE,CAAC,YAAR,eACI,qCADJ,cAEI,2BAAK,GAAG,CAAEa,OAAV,CAAmB,GAAG,CAAC,WAAvB,CAAmC,KAAK,CAAC,MAAzC,EAFJ,CADJ,CAMQb,IAAI,CAACc,QAAL,CAAcC,GAAd,CAAkB,SAACC,OAAD,CAAUC,KAAV,qBACd,2BAAK,GAAG,CAAEA,KAAV,CAAiB,SAAS,CAAC,SAA3B,eACI,2CAAI,yBAAG,IAAI,CAAED,OAAO,CAACE,GAAjB,CAAsB,MAAM,CAAC,OAA7B,EAAsCF,OAAO,CAACG,KAA9C,CAAJ,CADJ,cAEI,6BAAIH,OAAO,CAACI,WAAZ,CAFJ,CADc,EAAlB,CANR,CADJ,CAmBH,CAED,cAAerB,CAAAA,IAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\n\nimport '../styles/news.css';\nimport newsImg from '../assets/news/news.svg';\n\nimport { faSpinner } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\n\n\nfunction News() {\n\n    const [news, setNews] = useState([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        fetchNews();\n    }, []);\n\n\n    const fetchNews = async () => {\n        const token = 'a05805ed58ffc71ae2f0a4ea2d84ab25';\n        const newsURL = `https://gnews.io/api/v3/top-news?lang=pl&max=3&token=${token}`;\n        try {\n            const fetchData = await fetch(newsURL);\n            const data = await fetchData.json();\n            setNews(data);\n            setLoading(false);\n        } catch (err) {\n            console.log(err);\n        }\n    }\n\n\n    if (loading) {\n        return (\n            <div id=\"news\">\n                <FontAwesomeIcon icon={faSpinner} className=\"fa-spin\" />\n            </div>\n        );\n    };\n\n    if (\"errors\" in news) {\n        return (\n            <div id=\"news\">\n                <h1>Błąd ładowania </h1>\n            </div>\n        );\n    }\n\n\n    return (\n        <div id=\"news\">\n            <div id=\"news-title\">\n                <h1>News</h1>\n                <img src={newsImg} alt=\"news icon\" title=\"News\" />\n            </div>\n            {\n                news.articles.map((article, index) => (\n                    <div key={index} className=\"article\">\n                        <h2><a href={article.url} target=\"blank\">{article.title}</a></h2>\n                        <p>{article.publishedAt}</p>\n                    </div>\n                ))\n            }\n        </div>\n    );\n\n\n\n}\n\nexport default News;\n"]},"metadata":{},"sourceType":"module"}